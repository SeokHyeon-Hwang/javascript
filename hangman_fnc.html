<!DOCTYPE html>
<html>
<head></head>
<body>
<script>
//hangman

words = ['pancake', 'monkey', 'nose', 'javascript']
function pickWord(x){
	return x[Math.floor(Math.random()*x.length)]
}
word = pickWord(words)
//console.log(word)
function setupAnswerArray(x){
	array=[]
	for (i=0; i<x.length; i++){
			array.push('_')
	}
	return array
}

remainingWord = word.length
answerArray = setupAnswerArray(word)
cnt = []
//console.log(word + ', ' + remainingWord)
main = function(){
	while ((10-cnt.length>0) && (remainingWord>0)){
		alert(answerArray.join(' ') + '\n\n' + 'remaining : ' + (10-cnt.length))
		guess = prompt("Guess a letter, or click Cancel to stop playing")
		if (guess === null) {
			return
		}
		else if (guess.length !== 1) {
			alert('Please enter a single letter.')
		}
		else if (cnt.includes(guess)){
			alert('Please enter other letter.')
		}
		else {
			//console.log('go')
			for (i=0; i<word.length; i++){
				//console.log('go1')
				if (word[i]===guess){
					answerArray[i]=guess
					remainingWord--
					console.log(remainingWord)
					//console.log('go2')
				}
			}
			cnt.push(guess)
		}
	}
	if (remainingWord==0){
		alert(answerArray.join(' ') +'! '+ 'Success!')
	}
	else if ((10-cnt.length)<1) {
		alert('You guess 10 times more. Try it later.')
	}
}
main()
</script>
</body>
</html>